!function t(e,r,n){function o(s,u){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return o(r?r:t)},h,h.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){var n=window.iobio||{};window.iobio=n;var o=t("events").EventEmitter,i=t("inherits");n.cmd=function(e,r,n){o.call(this);var i=t("./cmdBuilder.js"),s=t("extend");this.options={},s(this.options,n),this.protocol="ws",this.command=new i(e,r,n)},i(n.cmd,o),n.cmd.prototype.then=function(e,r,n){r.push(this.url());var o=t("./cmdBuilder.js");return this.options.writeStream&&(n.writeStream=this.options.writeStream),this.command=new o(e,r,n),this},n.cmd.prototype.url=function(){return"iobio://"+this.command.getSource()},n.cmd.prototype.http=function(){return"http://"+this.command.getSource()},n.cmd.prototype.ws=function(){return"ws://"+this.command.getSource()},n.cmd.prototype.protocol=function(t){return arguments.length?(this.protocol=t,this):this.protocol},n.cmd.prototype.run=function(){var e=this,r=t("./conn.js"),n=new r(this.protocol,this.command.getSource(),this.opts);this.options.writeStream&&this.command.on("writeStream",this.options.writeStream),n.run(function(t){e.emit("data",t)})}},{"./cmdBuilder.js":13,"./conn.js":14,events:2,extend:3,inherits:4}],2:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,i,c,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[t],u(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),c=1;n>c;c++)i[c-1]=arguments[c];r.apply(this,i)}else if(s(r)){for(n=arguments.length,i=new Array(n-1),c=1;n>c;c++)i[c-1]=arguments[c];for(a=r.slice(),n=a.length,c=0;n>c;c++)a[c].apply(this,i)}return!0},n.prototype.addListener=function(t,e){var r;if(!o(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var r;r=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var n=!1;return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var r,n,i,u;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,n=-1,r===e||o(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(r)){for(u=i;u-->0;)if(r[u]===e||r[u].listener&&r[u].listener===e){n=u;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],o(r))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var r;return r=t._events&&t._events[e]?o(t._events[e])?1:t._events[e].length:0}},{}],3:[function(t,e,r){var n,o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},u=function(t){"use strict";if(!t||"[object Object]"!==i.call(t))return!1;var e=o.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!r)return!1;var s;for(s in t);return s===n||o.call(t,s)};e.exports=function c(){"use strict";var t,e,r,o,i,a,h=arguments[0],l=1,f=arguments.length,p=!1;for("boolean"==typeof h?(p=h,h=arguments[1]||{},l=2):("object"!=typeof h&&"function"!=typeof h||null==h)&&(h={});f>l;++l)if(t=arguments[l],null!=t)for(e in t)r=h[e],o=t[e],h!==o&&(p&&o&&(u(o)||(i=s(o)))?(i?(i=!1,a=r&&s(r)?r:[]):a=r&&u(r)?r:{},h[e]=c(p,a,o)):o!==n&&(h[e]=o));return h}},{}],4:[function(t,e,r){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],5:[function(t,e,r){"use strict";function n(){f=!1}function o(t){if(!t)return void(h!==v&&(h=v,n()));if(t!==h){if(t.length!==v.length)throw new Error("Custom alphabet for shortid must be "+v.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,r){return e!==r.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+v.length+" unique characters. These characters were not unique: "+e.join(", "));h=t,n()}}function i(t){return o(t),h}function s(t){p.seed(t),l!==t&&(n(),l=t)}function u(){h||o(v);for(var t,e=h.split(""),r=[],n=p.nextValue();e.length>0;)n=p.nextValue(),t=Math.floor(n*e.length),r.push(e.splice(t,1)[0]);return r.join("")}function c(){return f?f:f=u()}function a(t){var e=c();return e[t]}var h,l,f,p=t("./random/random-from-seed"),v="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:i,seed:s,lookup:a,shuffled:c}},{"./random/random-from-seed":11}],6:[function(t,e,r){"use strict";function n(t){var e=o.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var o=t("./alphabet");e.exports=n},{"./alphabet":5}],7:[function(t,e,r){"use strict";function n(t,e){for(var r,n=0,i="";!r;)i+=t(e>>4*n&15|o()),r=e<Math.pow(16,n+1),n++;return i}var o=t("./random/random-byte");e.exports=n},{"./random/random-byte":10}],8:[function(t,e,r){"use strict";function n(){var t="",e=Math.floor(.001*(Date.now()-p));return e===c?u++:(u=0,c=e),t+=h(a.lookup,v),t+=h(a.lookup,m),u>0&&(t+=h(a.lookup,u)),t+=h(a.lookup,e)}function o(t){return a.seed(t),e.exports}function i(t){return m=t,e.exports}function s(t){return void 0!==t&&a.characters(t),a.shuffled()}var u,c,a=t("./alphabet"),h=t("./encode"),l=t("./decode"),f=t("./is-valid"),p=1426452414093,v=5,m=t("./util/cluster-worker-id")||0;e.exports=n,e.exports.generate=n,e.exports.seed=o,e.exports.worker=i,e.exports.characters=s,e.exports.decode=l,e.exports.isValid=f},{"./alphabet":5,"./decode":6,"./encode":7,"./is-valid":9,"./util/cluster-worker-id":12}],9:[function(t,e,r){"use strict";function n(t){if(!t||"string"!=typeof t||t.length<6)return!1;var e=o.characters(),r=t.split("").map(function(t){return-1===e.indexOf(t)?t:void 0}).join("").split("").join("");return 0===r.length}var o=t("./alphabet");e.exports=n},{"./alphabet":5}],10:[function(t,e,r){"use strict";function n(){if(!o||!o.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return o.getRandomValues(t),48&t[0]}var o=window.crypto||window.msCrypto;e.exports=n},{}],11:[function(t,e,r){"use strict";function n(){return i=(9301*i+49297)%233280,i/233280}function o(t){i=t}var i=1;e.exports={nextValue:n,seed:o}},{}],12:[function(t,e,r){"use strict";e.exports=0},{}],13:[function(t,e,r){var n=t("events").EventEmitter,o=t("inherits"),i=function(e,r,o){n.call(this);var i,s=t("./utils/hash2UrlParams.js"),u=(t("events").EventEmitter(),t("./source/file.js")),c=t("./source/url.js");this.source=null;for(var a=this,h=0;h<r.length;h++)"iobio://"==r[h].slice(0,8)?(i="url",r[h]=c(r[h])):"[object File]"==Object.prototype.toString.call(r[h])&&(i="file",r[h]=o&&o.writeStream?u(e,r[h],function(t){a.emit("writeStream",t)},{write:!1}):u(e,r[h],function(t){a.emit("writeStream",t)}));this.source=encodeURI(e+"?cmd="+r.join(" ")+s(o)),"file"==i&&(this.source+="&protocol=websocket")};o(i,n),i.prototype.getSource=function(){return this.source},i.prototype.url=function(){return"http://"+this.source},i.prototype.isFile=function(){return"file"==sourceType?!0:!1},e.exports=i},{"./source/file.js":17,"./source/url.js":18,"./utils/hash2UrlParams.js":19,events:2,inherits:4}],14:[function(t,e,r){var n=function(e,r,n){this.opts=n,this.url=r,"ws"==e?this.runner=t("./protocol/ws.js"):"http"==e&&(this.runner=t("./protocol/http.js"))};n.prototype.run=function(t){var e=this;e.runner(this.url,e.opts,t)},e.exports=n},{"./protocol/http.js":15,"./protocol/ws.js":16}],15:[function(t,e,r){},{}],16:[function(t,e,r){var n=function(t,e,r){var n="ws://"+t,o=BinaryClient(n);o.on("open",function(t){var t=o.createStream({event:"run",params:{url:n}});t.on("data",function(t,e){r(t)}),t.on("end",function(){})})};e.exports=n},{}],17:[function(t,e,r){var n=function(e,r,n,o){var i=t("shortid").generate(),s=t("extend"),u={write:!0};s(u,o);var c=BinaryClient("ws://"+e+"?id=",{connectionID:i});return c.on("open",function(t){var t=c.createStream({event:"setID",connectionID:i});t.end()}),c.on("stream",function(t,e){if(n(t),u.write){var o=new FileReader;o.onload=function(e){t.write(e.target.result)},o.onloadend=function(e){t.end()},o.readAsBinaryString(r)}}),encodeURIComponent("http://client?&id="+i)};e.exports=n},{extend:3,shortid:8}],18:[function(t,e,r){var n=function(t){var e="http"+t.slice(5,t.length);return encodeURIComponent(e)};e.exports=n},{}],19:[function(t,e,r){var n=function(t){var e="";return t&&(e="&"+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&")),e};e.exports=n},{}]},{},[1]);